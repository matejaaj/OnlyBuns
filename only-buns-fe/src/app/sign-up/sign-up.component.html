<mat-card elevation="5" fxFlex class="content">
  <mat-card-title>
    <h2>{{title}}</h2>
  </mat-card-title>

  <mat-card-content>
    <p *ngIf="notification" [class]="notification.msgType">{{notification.msgBody}}</p>

    <form (ngSubmit)="onSubmit()" *ngIf="!submitted" [formGroup]="form">
      <mat-form-field>
        <label>Username: </label>
        <input formControlName="username" matInput required>
        <mat-error *ngIf="form.get('username')?.invalid">Username is required and must be between 3 and 64 characters.</mat-error>
      </mat-form-field>

      <mat-form-field>
        <label>Password: </label>
        <input formControlName="password" matInput required type="password">
        <mat-error *ngIf="form.get('password')?.invalid">Password is required and must be between 8 and 32 characters.</mat-error>
      </mat-form-field>

      <!-- Izmenjeni deo za Confirm Password -->
      <mat-form-field>
        <label>Confirm Password: </label>
        <input formControlName="confirmPassword" matInput required type="password">
        <mat-error *ngIf="form.errors?.['mismatch']">Passwords do not match.</mat-error>
      </mat-form-field>

      <mat-form-field>
        <label>First Name: </label>
        <input formControlName="firstname" matInput required>
        <mat-error *ngIf="form.get('firstname')?.invalid">First name is required.</mat-error>
      </mat-form-field>

      <mat-form-field>
        <label>Last Name: </label>
        <input formControlName="lastname" matInput required>
        <mat-error *ngIf="form.get('lastname')?.invalid">Last name is required.</mat-error>
      </mat-form-field>

      <mat-form-field>
        <label>Email: </label>
        <input formControlName="email" matInput required>
        <mat-error *ngIf="form.get('email')?.invalid">A valid email address is required.</mat-error>
      </mat-form-field>

      <mat-form-field>
        <label>Address: </label>
        <input formControlName="address" matInput required>
        <mat-error *ngIf="form.get('address')?.invalid">Address is required.</mat-error>
      </mat-form-field>

      <button [disabled]="!form.valid" color="primary" mat-raised-button type="submit">Sign up</button>
      <br>
      <button color="primary" mat-raised-button routerLink="/">Go Back</button>
    </form>

    <br>
    <mat-spinner *ngIf="submitted" mode="indeterminate"></mat-spinner>
  </mat-card-content>
</mat-card>
