<h1>All Posts</h1>
<div *ngFor="let post of posts">
  <h2>{{ post.description }}</h2>
  <img *ngIf="post.imageUrl" [src]="post.imageUrl" alt="Post Image" class="post-image">
  <p>Created At: {{ post.createdAt | date:'short' }}</p>
  <p>Likes: {{ post.likeCount }}</p>

  <!-- Lajkovanje -->
  <button *ngIf="authService.isAuthenticated()" (click)="likePost(post.id)" [disabled]="post.isLiked">
    {{ post.isLiked ? 'Liked' : 'Like' }}
  </button>

  <!-- Polje za dodavanje komentara -->
  <div *ngIf="isLoggedIn()">
    <input [(ngModel)]="post.newCommentContent" placeholder="Add a comment...">
    <button (click)="addComment(post.id, post.newCommentContent)">Comment</button>
  </div>

  <h3>Comments</h3>
  <ul>
    <li *ngFor="let comment of post.comments">
      <strong>{{ comment.userName }}</strong>: {{ comment.content }} <br />
      <small>{{ comment.createdAt | date:'short' }}</small>
    </li>
  </ul>

  <!-- Prikazivanje opcija za ureÄ‘ivanje i brisanje samo vlasniku objave -->
  <div *ngIf="isOwner(post.userId)">
    <button (click)="editPost(post.id)">Edit</button>
    <button (click)="deletePost(post.id)">Delete</button>
  </div>
  <hr />
</div>
